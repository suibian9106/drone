### 1. 核心概念分解

*   **基于滤波器的方法**
    *   **核心思想**：将状态估计（如机器人的位姿、地图点位置）看作一个**动态系统的状态**。系统会随着时间演变，并且我们能够接收到带有噪声的观测数据。
    *   **工作方式**：滤波器以一种 **“递归”** 和 **“在线”** 的方式运行。它在每个时间步 `k` 只处理当前时刻的传感器数据，并基于前一时刻 `k-1` 的估计结果，来更新当前时刻 `k` 的状态估计。它不需要保存所有的历史数据。
    *   **比喻**：就像人在走路时，根据上一秒的位置和当前这一步的感知，来估计自己现在的位置，而不需要回忆并重新计算走过的所有路径。

*   **EKF**
    *   **本质**：卡尔曼滤波器是针对**线性系统**和**高斯噪声**的最优状态估计器。然而，机器人的运动模型和观测模型（尤其是涉及旋转的）几乎都是**非线性**的。
    *   **EKF的解决方案**：EKF通过 **一阶泰勒展开** 来**线性化**非线性系统。具体做法是：在当前状态的估计值附近，对运动模型和观测模型进行求导（得到雅可比矩阵），然后用这个线性化后的近似模型来执行标准卡尔曼滤波的预测和更新步骤。

### 2. 为什么“通常由EKF实现”？

在非线性优化方法（如图优化）成为主流之前，EKF是解决机器人状态估计问题最常用、最经典的框架，原因如下：

*   **理论成熟**：卡尔曼滤波理论非常优美和完整，EKF作为其最直接的非线性扩展，在理论上易于理解和接受。
*   **递归高效**：EKF的计算复杂度与状态向量的维度呈平方关系，但在每一步只需要处理当前的数据，计算和内存开销相对可控，非常适合**实时性要求高**的嵌入式系统。
*   **历史地位**：在SLAM研究的早期（2000年代初期），**EKF-SLAM** 是第一个具有重大影响力的SLAM范式，为整个领域奠定了基础。

### 3. EKF的局限性及与现代方法的对比

尽管EKF曾非常成功，但它也存在一些固有的缺陷，这也解释了为什么现代先进的SLAM系统（如**VINS-Fusion**和**ORB-SLAM**）普遍转向了**基于优化的方法**。

| 特性 | **EKF-based Methods（基于滤波器）** | **Optimization-based Methods（基于优化，如图优化）** |
| :--- | :--- | :--- |
| **线性化方式** | **一阶泰勒展开**，在**当前估计点**线性化。如果估计点离真实点太远，线性化误差会很大，可能导致**发散**。 | 通常使用更高级的优化器（如Gauss-Newton, Levenberg-Marquardt），在**迭代中反复重新线性化**，直到收敛，精度更高。 |
| **数据关联** | 对错误的数据关联（如错误匹配了特征点）非常敏感，一次错误关联可能对滤波器造成毁灭性打击。 | 由于维护了更多的历史信息，对错误数据关联有更好的鲁棒性。 |
| **历史信息利用** | **“一阶马尔可夫假设”**，认为当前状态只与上一时刻有关。这会导致**信息滞后**，早期正确的观测无法修正后来的错误。 | 维护一个**滑动窗口**或**共视图**，可以对窗口内/相关联的多个状态进行**联合优化（Bundle Adjustment）**，一致性更好。 |
| **一致性** | 由于线性化误差和累积效应，EKF-SLAM容易变得**不一致**（过于自信），即其估计的协方差小于真实的误差。 | 通过局部或全局BA，能提供更一致、更精确的估计。 |

### 总结

*   这句话 **"基于滤波器的方法通常通过EKF实现"** 准确地描述了在非线性优化普及前，机器人状态估计领域的主流技术方案。
*   **EKF** 通过**一阶线性化**和**递归处理**，为非线性系统提供了一种可行的实时状态估计框架。
*   然而，由于EKF在**线性化误差**、**数据关联敏感性**和**一致性**方面的局限性，现代高性能的SLAM系统（包括VINS-Fusion）大多采用了**基于非线性优化的方法**，后者通过**迭代重线性化**和**利用更多历史数据**，实现了更高的精度和鲁棒性。